<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="{{ url_for('static', path='styles.css') }}">
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <script src="{{ url_for('static', path='app.js') }}"></script>
    <link rel="icon" href="{{ url_for('static', path='favicon.ico') }}">
    <title>MailSense AI - ClassificaÃ§Ã£o Inteligente</title>
</head>

<body>
    <button id="theme-toggle" aria-label="Alternar tema" class="themeToggle">
        â˜€ï¸
    </button>

    <div class="container">
        <!-- Header melhorado -->
        <header class="header">
            <div class="header__top">
                <img src="{{ url_for('static', path='logo.png') }}?v=1" alt="DescriÃ§Ã£o da Imagem" class="header-image">
                <h1 class="header__title">MailSense AI</h1>
            </div>

            <p class="header__subtitle">
                Classifique e-mails automaticamente em <b>Produtivo</b> ou <b>Improdutivo</b> usando inteligÃªncia
                artificial e receba sugestÃµes de respostas personalizadas.
            </p>
        </header>

        <!-- Cards informativos -->
        <div class="info-grid">
            <div class="info-card">
                <div class="info-card__icon info-card__icon--blue">ğŸ¯</div>
                <div class="info-card__content">
                    <h3>ClassificaÃ§Ã£o Inteligente</h3>
                    <p>IA identifica automaticamente se o email requer aÃ§Ã£o ou nÃ£o</p>
                </div>
            </div>
            <div class="info-card">
                <div class="info-card__icon info-card__icon--green">âš¡</div>
                <div class="info-card__content">
                    <h3>Respostas AutomÃ¡ticas</h3>
                    <p>SugestÃµes geradas baseadas no contexto do email</p>
                </div>
            </div>
            <div class="info-card">
                <div class="info-card__icon info-card__icon--purple">ğŸ’¡</div>
                <div class="info-card__content">
                    <h3>Economia de Tempo</h3>
                    <p>Reduza triagem manual e foque no que importa</p>
                </div>
            </div>
        </div>

        <!-- Grid principal -->
        <div class="grid">
            <!-- INPUT -->
            <section class="card">
                <h2 class="card__title">ğŸ“¥ Entrada de Email</h2>

                <!-- Exemplos -->
                <div class="examples">
                    <label class="label">Exemplos para testar:</label>
                    <div class="examples__grid">
                        <div class="example-item"
                            onclick="useExample('OlÃ¡, gostaria de solicitar suporte tÃ©cnico urgente para o sistema de pagamentos. HÃ¡ uma falha crÃ­tica que estÃ¡ impedindo o processamento de transaÃ§Ãµes desde Ã s 9h de hoje. Preciso de um retorno o mais rÃ¡pido possÃ­vel.')">
                            <div class="example-item__header">
                                <span class="example-item__title">SolicitaÃ§Ã£o de Suporte</span>
                                <span class="example-tag example-tag--prod">Produtivo</span>
                            </div>
                            <p class="example-item__text">SolicitaÃ§Ã£o urgente de suporte tÃ©cnico para sistema de
                                pagamentos...</p>
                        </div>

                        <div class="example-item"
                            onclick="useExample('Bom dia, entrei em contato na semana passada sobre a solicitaÃ§Ã£o #12345. Gostaria de saber o status atual dessa requisiÃ§Ã£o e qual a previsÃ£o de conclusÃ£o. Aguardo retorno.')">
                            <div class="example-item__header">
                                <span class="example-item__title">Pedido de Status</span>
                                <span class="example-tag example-tag--prod">Produtivo</span>
                            </div>
                            <p class="example-item__text">SolicitaÃ§Ã£o de atualizaÃ§Ã£o sobre caso em aberto...</p>
                        </div>

                        <div class="example-item"
                            onclick="useExample('OlÃ¡ pessoal! Queria desejar um feliz natal a todos! Que 2024 seja repleto de conquistas e realizaÃ§Ãµes para toda a equipe. AbraÃ§os!')">
                            <div class="example-item__header">
                                <span class="example-item__title">FelicitaÃ§Ãµes</span>
                                <span class="example-tag example-tag--improd">Improdutivo</span>
                            </div>
                            <p class="example-item__text">Mensagem de felicitaÃ§Ãµes para a equipe...</p>
                        </div>

                        <div class="example-item"
                            onclick="useExample('Muito obrigado pelo atendimento de ontem! Foi excelente e resolveu meu problema rapidamente. ParabÃ©ns pelo trabalho!')">
                            <div class="example-item__header">
                                <span class="example-item__title">Agradecimento</span>
                                <span class="example-tag example-tag--improd">Improdutivo</span>
                            </div>
                            <p class="example-item__text">Agradecimento simples pelo atendimento...</p>
                        </div>
                    </div>
                </div>

                <!-- FormulÃ¡rio -->
                <form class="form" hx-post="/analyze" hx-target="#result" hx-swap="innerHTML" hx-indicator="#loading"
                    enctype="multipart/form-data">
                    <div>
                        <label class="label">ğŸ“ Upload de Arquivo (.txt ou .pdf)</label>
                        <input class="input-file" type="file" name="email_file" accept=".txt,.pdf" />
                    </div>

                    <div>
                        <label class="label">âœï¸ Ou cole o texto do e-mail</label>
                        <textarea class="textarea" name="email_text" rows="8"
                            placeholder="Cole aqui o conteÃºdo completo do e-mail para anÃ¡lise..."></textarea>
                    </div>

                    <button class="button" type="submit">âœ¨ Analisar com IA</button>
                </form>

                <p class="help">
                    ğŸ’¡ <b>Dica:</b> VocÃª pode fazer upload de um arquivo ou colar o texto diretamente. Para testar
                    rapidamente, clique em um dos exemplos acima!
                </p>
            </section>

            <!-- OUTPUT -->
            <section class="card">
                <h2 class="card__title">ğŸ“Š Resultado da AnÃ¡lise</h2>

                <!-- Loading indicator -->
                <div id="loading" class="loading htmx-indicator">
                    <div class="loading__spinner"></div>
                    <p>Analisando email com IA...</p>
                </div>

                <div id="result" class="result-empty">
                    <div class="result-empty__icon">ğŸ“¬</div>
                    <p><b class="analise">Aguardando anÃ¡lise...</b></p>
                    <p>Envie um e-mail para ver a classificaÃ§Ã£o e a resposta sugerida pela inteligÃªncia artificial.</p>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Desenvolvida para o desafio tÃ©cnico <b>AutoU</b> ğŸš€</p>
            <button class="button-small" type="button"
                onclick="window.open('https://github.com/Matheuscomputerbeat', '_blank')"> Desenvolvida por
                <b>Matheuscomputerbeat</b> ğŸš€</p>
        </footer>
    </div>
</body>

</html>
